interactions:
- request:
    body: '{"max_tokens": 100, "messages": [{"role": "user", "content": "What are
      the key principles for designing scalable systems?"}], "model": "claude-sonnet-4-20250514",
      "stream": true, "system": [{"type": "text", "text": "Software engineering best
      practices guide: goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye
      goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye
      goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye
      goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye
      goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye
      goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye
      goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye
      goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye
      goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye
      goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye
      goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye
      goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye
      goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye
      goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye
      goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye
      goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye
      goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye
      goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye
      goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye
      goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye
      goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye
      goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye
      goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye
      goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye
      goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye
      goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye
      goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye
      goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye
      goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye
      goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye
      goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye
      goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye
      goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye
      goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye
      goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye
      goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye
      goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye
      goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye
      goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye
      goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye
      goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye
      goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye
      goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye
      goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye
      goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye
      goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye
      goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye
      goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye
      goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye
      goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye
      goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye
      goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye
      goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye
      goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye
      goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye
      goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye
      goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye
      goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye
      goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye
      goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye
      goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye
      goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye
      goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye
      goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye
      goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye
      goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye
      goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye
      goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye
      goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye
      goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye
      goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye
      goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye
      goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye
      goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye
      goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye
      goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye
      goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye
      goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye
      goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye
      goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye
      goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye
      goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye
      goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye
      goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye
      goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye
      goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye
      goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye
      goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye
      goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye
      goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye
      goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye
      goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye
      goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye
      goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye
      goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye
      goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye
      goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye
      goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye
      goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye
      goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye
      goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye
      goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye goodbye
      goodbye goodbye goodbye goodbye goodbye goodbye ", "cache_control": {"type":
      "ephemeral"}}], "temperature": 0.1}'
    headers:
      ? !!python/object/new:multidict._multidict.istr
      - Accept
      : - application/json
      ? !!python/object/new:multidict._multidict.istr
      - Accept-Encoding
      : - gzip, deflate
      ? !!python/object/new:multidict._multidict.istr
      - Connection
      : - keep-alive
      Content-Length:
      - '8515'
      ? !!python/object/new:multidict._multidict.istr
      - Content-Type
      : - application/json
      ? !!python/object/new:multidict._multidict.istr
      - User-Agent
      : - Anthropic/Python 0.28.1
      X-Stainless-Arch:
      - arm64
      X-Stainless-Async:
      - 'false'
      X-Stainless-Lang:
      - python
      X-Stainless-OS:
      - MacOS
      X-Stainless-Package-Version:
      - 0.28.1
      X-Stainless-Runtime:
      - CPython
      X-Stainless-Runtime-Version:
      - 3.10.13
      anthropic-beta:
      - prompt-caching-2024-07-31
      anthropic-version:
      - '2023-06-01'
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: 'event: message_start

        data: {"type":"message_start","message":{"id":"msg_01T7okUxJ7xozUs9ESJMCjYn","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":18,"cache_creation_input_tokens":1031,"cache_read_input_tokens":0,"output_tokens":1,"service_tier":"standard"}}           }


        event: content_block_start

        data: {"type":"content_block_start","index":0,"content_block":{"type":"text","text":""}      }


        event: ping

        data: {"type": "ping"}


        event: content_block_delta

        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"Here"}           }


        event: content_block_delta

        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"
        are the key principles for"}     }


        event: content_block_delta

        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"
        designing scalable systems:"}            }


        event: content_block_delta

        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"\n\n##
        1. **Horizontal"}  }


        event: content_block_delta

        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"
        Scaling (Scale Out)**\n- Ad"}         }


        event: content_block_delta

        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"d
        more servers rather than upgrading existing"} }


        event: content_block_delta

        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"
        hardware\n- Design"}}


        event: content_block_delta

        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"
        stateless services that can run on multiple instances"}       }


        event: content_block_delta

        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"\n-
        Use load balancers to distribute"}           }


        event: content_block_delta

        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"
        traffic across instances\n\n## 2."}        }


        event: content_block_delta

        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"
        **Loose Coupling & High Cohesion"}              }


        event: content_block_delta

        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"**\n-
        Design independent, mo"}  }


        event: content_block_delta

        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"dular
        components\n- Use APIs an"}       }


        event: content_block_delta

        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"d
        message queues for communication\n-"}        }


        event: content_block_delta

        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"
        Minimize dependencies"}             }


        event: content_block_stop

        data: {"type":"content_block_stop","index":0 }


        event: message_delta

        data: {"type":"message_delta","delta":{"stop_reason":"max_tokens","stop_sequence":null},"usage":{"output_tokens":100}            }


        event: message_stop

        data: {"type":"message_stop"}


        '
    headers:
      CF-RAY:
      - 9561940de97d20aa-QRO
      Cache-Control:
      - no-cache
      Connection:
      - keep-alive
      Content-Type:
      - text/event-stream; charset=utf-8
      Date:
      - Fri, 27 Jun 2025 02:40:13 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-organization-id:
      - 4257e925-ee99-4ee8-9c62-8e53716d5203
      anthropic-ratelimit-input-tokens-limit:
      - '20000000'
      anthropic-ratelimit-input-tokens-remaining:
      - '19998000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-06-27T02:40:12Z'
      anthropic-ratelimit-output-tokens-limit:
      - '2500000'
      anthropic-ratelimit-output-tokens-remaining:
      - '2500000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-06-27T02:40:12Z'
      anthropic-ratelimit-tokens-limit:
      - '22500000'
      anthropic-ratelimit-tokens-remaining:
      - '22498000'
      anthropic-ratelimit-tokens-reset:
      - '2025-06-27T02:40:12Z'
      cf-cache-status:
      - DYNAMIC
      request-id:
      - req_011CQXxCamu6PNQsuUJQqA3R
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
version: 1
